# 测试示例

## 快速测试不同存储格式

### 1. SQLite 存储（默认）
```bash
python mimic_red_engine.py -k "澳洲留学" -l 5
```
结果：数据存储在 `sqlite_datas/notes.db`

### 2. CSV 存储
```bash
python mimic_red_engine.py -k "澳洲留学" -s csv -l 5
```
结果：数据存储在 `csv_datas/notes_xxxxxxxx_xxxxxx.csv`

### 3. JSON 存储
```bash
python mimic_red_engine.py -k "澳洲留学" -s json -l 5
```
结果：数据存储在 `json_datas/notes_xxxxxxxx_xxxxxx.json`

### 4. Excel 存储
```bash
python mimic_red_engine.py -k "澳洲留学" -s excel -l 5
```
结果：数据存储在 `excel_datas/notes_xxxxxxxx_xxxxxx.xlsx`

## 验证文件夹结构

运行后，项目根目录下会自动创建以下文件夹：

```
Spider_XHS/
├── sqlite_datas/      # SQLite 数据库
├── csv_datas/         # CSV 文件
├── json_datas/        # JSON 文件
├── excel_datas/       # Excel 文件
└── datas/             # 进度文件
    └── crawl_progress.json
```

## 查看数据

### SQLite
```bash
# 使用 sqlite3 命令行
sqlite3 sqlite_datas/notes.db "SELECT * FROM notes LIMIT 5;"

# 或使用 DB Browser for SQLite 图形界面
```

### CSV
```bash
# 直接用 Excel 打开
open csv_datas/notes_*.csv

# 或使用命令行查看
head -n 10 csv_datas/notes_*.csv
```

### JSON
```bash
# 使用 jq 格式化查看
cat json_datas/notes_*.json | jq '.notes[0]'

# 或直接查看
cat json_datas/notes_*.json
```

### Excel
```bash
# 直接用 Excel 或 WPS 打开
open excel_datas/notes_*.xlsx
```

## 注意事项

1. **首次运行** Excel 格式前，确保已安装依赖：
   ```bash
   pip install pandas openpyxl
   ```

2. **数据隔离**：不同格式的数据存储在不同文件夹，互不干扰

3. **进度文件**：断点续爬进度统一保存在 `datas/crawl_progress.json`

4. **关键词输入**：现在只支持直接输入关键词，已移除关键词数据库功能

5. **Git 忽略**：所有数据文件夹都已加入 `.gitignore`，不会上传到 GitHub
